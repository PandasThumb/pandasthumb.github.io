<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PT Spam Blocker</title>
  
  <meta property="og:site_name" content="The Panda's Thumb" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="PT Spam Blocker" />
  <meta property="og:url" content="https://pandasthumb.org/archives/2005/02/pt-spam-blocker.html" />
  <meta property="og:image" content="https://pandasthumb.org/media/roar.jpg" />
  <meta property="article:author" content="Reed A. Cartwright" />
  <meta property="article:published_time" content="2005-02-07T20:55:24-07:00" />


  <link rel="stylesheet" type='text/css' href="/css/normalize.css" />
  <link rel="stylesheet" type='text/css' href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,400italic,700italic|Source+Code+Pro:400,700" />
  <link rel="stylesheet" type='text/css' href="/css/gridism.css" />
  <link rel="stylesheet" type='text/css' href="/css/style.css" />
  <link rel="stylesheet" type='text/css' href="/css/github.css" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <script type="text/javascript" src="//code.jquery.com/jquery-3.1.1.min.js"></script>
  <script type="text/javascript" src="https://use.fontawesome.com/e6a24c6dde.js"></script>
  <script type="text/javascript" async src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>  
  <script src="/js/local.js"></script>

</head>


<body class="wrap">
  <div class="grid page-fill"><div></div></div>
<header class="topbar">
  <div class="grid no-gutters">
    <div class="banner unit whole">
		  <img src="/media/banner.jpg" alt="The Panda's Thumb" />
    </div>
    <nav class="main-nav unit whole align-center">
      <ul>
<li><a href="/" title="Main Page"><i class="fa fa-home" aria-hidden="true"></i>&nbsp;Main</a></li>
<li><a href="/archives/index.html" title="Archives"><i class="fa fa-book" aria-hidden="true"></i>&nbsp;Archives</a></li>
<li><a href="/search.html" title="Searching Panda's Thumb"><i class="fa fa-book" aria-hidden="true"></i>&nbsp;Search</a></li>
</ul>

    </nav>
  </div>
</header>


    <section class="blog">
    <div class="grid">
      <div class="unit whole">
        <article class="blogpost">
  <header>
	  <h1><a href="/archives/2005/02/pt-spam-blocker.html">PT Spam Blocker</a></h1>
	  <div class="byline"><i class="fa fa-user-circle" aria-hidden="true"></i> By Reed A. Cartwright</div>
	  <div class="attrline"><i class="fa fa-clock-o" aria-hidden="true"></i>
	  <span><time pubdate="pubdate" datetime="2005-02-07T20:55:24-07:00">February 7, 2005 20:55 MST</time></span>
	  </div>
   </header>
  <p>Salvador is making <a href="http://www.arn.org/cgi-bin/ubb/ultimatebb.cgi?ubb=get_topic;f=12;t=001847;p=1#000000">some noise on ARN</a> about  a comment of his being rejected by our spam filter.   This post is to clarify things.</p>

<p>Spammers target blogs with comments.  These attacks can be harsh.  At times spammers will go through every single post in the blog and post three comments containing scores of links advertising every thing from child rape to internet bingo.</p>

<p>To counter such horrid spam, we employ a blacklist plugin that searches every comment for certain patterns and rejects any that fit.  Unfortunately sometimes non-spam also gets blocked.  Users are sent a message informing them of the bad content so they can change the post.  (Robotic spammers ignore such messages.)</p>

<p>Our typical cycle of spam control went like this:</p>

<ul>
  <li>Spam gets through the filter.</li>
  <li>We recognize the spam.</li>
  <li>Add the urls from the spam to the blacklist.</li>
  <li>Delete the messages that got through.</li>
</ul>

<p>Of course, the time between 1 and 4 can be hours or days, which can lead to a lot of naughty messages sitting around the blog for a while.</p>

<p>I finally got fed up with this reactionary technique a few months ago, and decided if there was a better option.  I tried the explanatory filter but it was unable to detect links designed by spammers.  So I had to fall back to old methodology and took links from our blacklist, which I already knew had been designed by spammers, and tried to deduce some megarules from them.  I ended up deciding to block urls that contained multiple hyphens, since about 75% of the spammers’ urls went something like “hot-chicks-want-to-hottub-with-you.ruky.net.”  (I also blocked all .info addresses since we were only getting spam from them.)</p>

<p>The multi-hyphen megarule has worked very well.  However, it is still <strong>experimental</strong> and has been modified more than once.  If you have a problem with getting a url past the spam blocker, you can simply use <a href="http://tinyurl.com/">tinyurl.com</a> to create a replacement url.  That is what Wesley did in <a href="http://www.pandasthumb.org/pt-archives/000654.html#c15269">this comment</a> to link to ISCID.  (Contrary to <a href="http://www.arn.org/ubb/ultimatebb.php/ubb/get_topic/f/12/t/001847/p/1.html#000009">some claims</a> we did not change the blacklist for Wesley.)</p>

<p>We do make our blacklist publicly available, <a href="http://www.pandasthumb.org/blacklist.txt">blacklist.txt</a>, so anyone can check if we are banning sites critical towards us.  Sorry, would-be martyrs, we do not censor your favorite sites from comments, unless you’re into mature mamas or something.  Besides if we wanted to censor you, we’d ban your IP, not add you to our spam blocker.</p>

</article>

      </div>

   
<div id="disqus_thread" class="unit whole"></div>
<script>
var disqus_config = function () {
this.page.url = 'https://pandasthumb.org/archives/2005/02/pt-spam-blocker.html';
this.page.identifier = '/archives/2005/02/pt-spam-blocker';
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//the-pandas-thumb.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



    </div>
  </section>


  <footer>
<div class="grid">
<table bgcolor="204517">
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td>
  <div align="left">
    <p>&nbsp;&nbsp;To see earlier posts, select the Archives at the top of this page</p>
    <p></p>
  </div>
  <div id="RecentComments" class="dsq-widget">
      <div align="center">
       <h2>Recent Comments</h2>
       <P>
       To see the comment in context of the discussion click on the text that indicates how long ago the comment was posted, such as "2 hours ago".  Then wait for the post 
     and then the comments to load (may take many seconds).  The comment should have a yellow vertical bar next to the commenter avatar.
      <P>
    </div>
    <div>
     <script type="text/javascript" src="https://the-pandas-thumb.disqus.com/recent_comments_widget.js?num_items=99&hide_mods=0&hide_avatars=0&avatar_size=32&excerpt_length=100"></script>
    </div>
  </div>
</td></tr>
  <tr><td></td><td><div class="unit whole">
      <p>Copyright &copy; The Panda&#8217;s Thumb and original authors &mdash; Content provided under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons BY-NC-ND License 4.0</a>.</p>
    <p></p>
    </div>
    </td></tr>
  </table>
  </div>
  </footer>

  

</body>

</html>


